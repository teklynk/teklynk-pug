<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact Us</title>
  <style>
    body {font-family:Arial,sans-serif;max-width:600px;margin:2rem auto;}
    label {display:block;margin-top:1rem;}
    input,textarea {width:100%;padding:.5rem;font-size:1rem;}
    button {margin-top:1rem;padding:.75rem 1.5rem;font-size:1rem;}
    .msg {margin-top:1rem;color:green;}
    .error {color:red;}
  </style>
</head>
<body>

<h1>Contact Us</h1>

<form id="contactForm">
  <label for="name">Name</label>
  <input type="text" id="name" name="name" required>

  <label for="email">Email</label>
  <input type="email" id="email" name="email" required>

  <label for="message">Message</label>
  <textarea id="message" name="message" rows="6" required></textarea>

  <button type="submit">Send</button>
</form>

<p class="msg" id="statusMsg"></p>

<script>
  // ðŸ‘‰ Put the exact string you stored as a secret named CONTACT_TOKEN in Cloudflare
  const CONTACT_TOKEN = 'b3c9f1e2-a7d4-4f6b-9e12-d5c8f0ab1234';
  const WORKER_URL    = 'https://delicate-boat-7fd5.teklynk.workers.dev/';

  document.getElementById('contactForm').addEventListener('submit', async e => {
    e.preventDefault();

    const statusEl = document.getElementById('statusMsg');
    statusEl.textContent = '';

    const payload = {
      name:    document.getElementById('name').value.trim(),
      email:   document.getElementById('email').value.trim(),
      message: document.getElementById('message').value.trim()
    };

    try {
      const resp = await fetch(WORKER_URL, { â€¦ });
      const data = await resp.json();               // always parse JSON
      if (!resp.ok) {
        // Show the exact error message from the worker
        throw new Error(`Worker error (${resp.status}): ${data.error}`);
      }
      // success path â€¦
    } catch (err) {
      console.error(err);
      statusEl.textContent = err.message;   // show the detailed message
      statusEl.className = 'error';
    }
  });
</script>

</body>
</html>